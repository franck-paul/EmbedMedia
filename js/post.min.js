"use strict";dotclear.ready((()=>{const e=dotclear.getData("dc_editor_embedmedia");jsToolBar.prototype.elements.embedmedia={type:"button",title:e.title||"Embed external Media",icon:e.icon,icon_dark:e.icon_dark,fn:{},fncall:{},open_url:e.open_url,data:{},popup(){window.the_toolbar=this,this.elements.embedmedia.data={},window.open(this.elements.embedmedia.open_url,"dc_popup","alwaysRaised=yes,dependent=yes,toolbar=yes,height=500,width=760,menubar=no,resizable=yes,scrollbars=yes,status=no")},gethtml(){const t=this.data;if(""===t.m_object)return!1;const s=["external-media"];let l="";if(e.style.class)switch(t.alignment){case"left":s.push(e.style.left);break;case"right":s.push(e.style.right);break;case"center":s.push(e.style.center)}else switch(t.alignment){case"left":l=` style="${e.style.left}"`;break;case"right":l=` style="${e.style.right}"`;break;case"center":l=` style="${e.style.center}"`}return`<div class="${s.join(" ")}"${l}>\n${t.m_object}\n</div>`}},jsToolBar.prototype.elements.embedmedia.fn.wiki=function(){this.elements.embedmedia.popup.call(this)},jsToolBar.prototype.elements.embedmedia.fn.xhtml=function(){this.elements.embedmedia.popup.call(this)},jsToolBar.prototype.elements.embedmedia.fn.markdown=function(){this.elements.embedmedia.popup.call(this)},jsToolBar.prototype.elements.embedmedia.fncall.wiki=function(){const e=this.elements.embedmedia.gethtml();this.encloseSelection("","",(()=>`///html\n${e}\n///\n`))},jsToolBar.prototype.elements.embedmedia.fncall.xhtml=function(){const e=this.elements.embedmedia.gethtml();this.encloseSelection("","",(()=>e))},jsToolBar.prototype.elements.embedmedia.fncall.markdown=function(){const e=this.elements.embedmedia.gethtml();this.encloseSelection("","",(()=>e))}}));
